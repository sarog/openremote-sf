<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report1" language="groovy" pageWidth="850" pageHeight="330" orientation="Landscape" columnWidth="850" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="9d560c56-f8af-4a60-b724-5bf99af47447">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="SensorOneName" class="java.lang.String"/>
	<parameter name="YAxisLabel" class="java.lang.String">
		<defaultValueExpression><![CDATA[str()]]></defaultValueExpression>
	</parameter>
	<parameter name="XAxisLabel" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="Title" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT cast(value as float) as value, timestamp
FROM sensorValues
INNER JOIN sensors
ON sensorValues.sensorId=sensors.id
INNER JOIN dataUsers
ON sensors.userId = dataUsers.id
where dataUsers.readKey = '6fccf8cf3c864de0c857bbb3aad61a62' and sensors.name = $P{SensorOneName} and isnumeric(sensorValues.value) and timestamp > (now() - interval '48 hour');]]>
	</queryString>
	<field name="value" class="java.lang.Double"/>
	<field name="timestamp" class="java.sql.Timestamp"/>
	<summary>
		<band height="330">
			<timeSeriesChart>
				<chart isShowLegend="false" evaluationTime="Report">
					<reportElement uuid="1ab1d1f0-1a04-40a8-9400-7e53de6ff436" x="0" y="0" width="850" height="330"/>
					<chartTitle>
						<titleExpression><![CDATA[$P{Title}]]></titleExpression>
					</chartTitle>
					<chartSubtitle/>
					<chartLegend/>
				</chart>
				<timeSeriesDataset timePeriod="Hour">
					<timeSeries>
						<seriesExpression><![CDATA[""]]></seriesExpression>
						<timePeriodExpression><![CDATA[$F{timestamp}]]></timePeriodExpression>
						<valueExpression><![CDATA[$F{value}]]></valueExpression>
					</timeSeries>
				</timeSeriesDataset>
				<timeSeriesPlot isShowShapes="false">
					<plot/>
					<timeAxisLabelExpression><![CDATA[$P{XAxisLabel}]]></timeAxisLabelExpression>
					<timeAxisFormat>
						<axisFormat/>
					</timeAxisFormat>
					<valueAxisLabelExpression><![CDATA[$P{YAxisLabel}]]></valueAxisLabelExpression>
					<valueAxisFormat>
						<axisFormat/>
					</valueAxisFormat>
				</timeSeriesPlot>
			</timeSeriesChart>
		</band>
	</summary>
</jasperReport>
